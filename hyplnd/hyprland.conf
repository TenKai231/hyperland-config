# --- MONITOR ---
monitor=,highres,auto,1

# --- APLIKASI UTAMA ---
# Kita pakai Konsole karena kamu dari KDE & Kitty tadi bermasalah
$terminal = kitty
$fileManager = dolphin
$menu = rofi -show drun


# --- AUTOSTART ---

# 1. SYSTEM SERVICES (Jalankan paling duluan biar lancar)
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP

# 2. AUTHENTICATION AGENT (Pilih SATU saja. Saya sarankan GNOME buat Hyprland)
# Kalau abang install 'polkit-gnome', pakai baris ini:
exec-once = nm-applet --indicator
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
# Kalau abang install 'polkit-kde-agent', pakai baris ini (pilih salah satu, hapus pagar #):
# exec-once = /usr/lib/polkit-kde-authentication-agent-1

# 3. UTAMA (Wallpaper, Bar, Notifikasi)
exec-once = hyprpaper
exec-once = swaync    # <--- INI RAJANYA SEKARANG (Dunst sudah dibuang)
exec-once = waybar
exec-once = hypridle

# 4. ENVIRONMENT VARIABLES
env = QT_QPA_PLATFORMTHEME,qt6ct

# 5. APLIKASI USER
exec-once = firefox

# 6 Kopipaste 
exec-once = wl-paste --type text --watch cliphist store # Simpan Teks
exec-once = wl-paste --type image --watch cliphist store # Simpan Gambar

# --- ENVIRONMENT ---
env = XCURSOR_SIZE,24
env = QT_QPA_PLATFORMTHEME,qt5ct

# --- INPUT KEYBOARD ---
input {
kb_layout = us
follow_mouse = 1
touchpad {
natural_scroll = no
}
sensitivity = 0
}

# --- TAMPILAN (General) ---
general {
gaps_in = 5
gaps_out = 10
border_size = 3
col.active_border = rgb(a020f0) rgb(ffffff) 45deg
col.inactive_border = rgb(595959)
layout = dwindle
 }



decoration {
    rounding = 10
    active_opacity = 0.95   # Transparansi jendela aktif (90% terlihat)
    inactive_opacity = 0.80 # Jendela pasif lebih transparan lagi

    # Setting Blur (Kaca Buram)
    blur {
        enabled = true
        size = 3
        passes = 1
        new_optimizations = true
    }

    # Setting Shadow (Bayangan) - FORMAT BARU
    shadow {
        enabled = true
        range = 15
        render_power = 3
        color = rgba(0, 0, 0, 0.5)
    }
}


animations {
enabled = yes
bezier = myBezier, 0.05, 0.9, 0.1, 1.05
animation = windows, 1, 7, myBezier
animation = windowsOut, 1, 7, default, popin 80%
animation = border, 1, 10, default
animation = borderangle, 1, 8, default
animation = fade, 1, 7, default
animation = workspaces, 1, 6, default
}

dwindle {
pseudotile = yes
preserve_split = yes
}

# --- SHORTCUTS (BINDINGS) ---
$mainMod = SUPER

# 1. Aplikasi
bind = $mainMod, Q, exec, $terminal

bind = $mainMod, C, killactive,          # CLOSE WINDOW (Penting!)
bind = $mainMod, M, exit,                # LOGOUT HYPRLAND
bind = $mainMod, E, exec, $fileManager   # Buka File Manager (Dolphin)
bind = $mainMod, V, togglefloating,      # Mode Mengambang
bind = $mainMod, R, exec, rofi -show drun          # Buka Menu Aplikasi (Rofi)
bind = $mainMod, P, pseudo, # dwindle
bind = $mainMod, J, togglesplit, # dwindle
bind = $mainMod, B, exec, firefoxbind
bind = $mainMod, K, exec, cliphist list | rofi -dmenu | cliphist decode | wl-copy
bind = SUPER, L, exec, hyprlock 

# 2. Pindah Fokus Window (Pakai Panah)
bind = $mainMod, left, movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, up, movefocus, u
bind = $mainMod, down, movefocus, d

# 3. Pindah Workspace (1-10)
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# 4. Geser Window ke Workspace Lain (Shift + Angka)
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5

# 5. Mouse Control
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

preload = /home/wawan/Unduhan/from-PixAI-1960904261653649624.png
wallpaper = ,/home/wawan/Unduhan/from-PixAI-1960904261653649624.png

# === SCREENSHOT (REVISI) ===

# 1. PrintScreen -> Full Layar (Masuk folder)
bind = , Print, exec, grim $HOME/Pictures/Screenshots/screenshot_$(date +'%s').png

# 2. Win + Print -> Full Layar (Copy ke Clipboard)
bind = SUPER, Print, exec, grim - | wl-copy

# 3. Win + Shift + S -> Pilih Area (Masuk folder)
bind = SUPER SHIFT, S, exec, grim -g "$(slurp)" $HOME/Pictures/Screenshots/area_$(date +'%s').png

# === TOMBOL LAPTOP (AUDIO & BRIGHTNESS) ===

# 1. Volume Suara (Butuh pamixer)
binde = , XF86AudioRaiseVolume, exec, pamixer -i 5    # Naik 5%
binde = , XF86AudioLowerVolume, exec, pamixer -d 5    # Turun 5%
bind = , XF86AudioMute, exec, pamixer -t              # Mute

# 2. Kecerahan Layar (Butuh brightnessctl)
binde = , XF86MonBrightnessUp, exec, brightnessctl s 5%+
binde = , XF86MonBrightnessDown, exec, brightnessctl s 5%-

# Menu Power (Shutdown/Restart)
bind = SUPER, Escape, exec, wlogout

# Aturan buat Menu WiFi GUI (nm-connection-editor)
windowrulev2 = float, class:^(nm-connection-editor)$
windowrulev2 = center, class:^(nm-connection-editor)$
windowrulev2 = size 600 500, class:^(nm-connection-editor)$

# Aturan Blur buat Rofi
layerrule = blur, rofi
layerrule = ignorezero, rofi
